# üö® –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å–∫ Backend

## –ü—Ä–æ–±–ª–µ–º–∞

Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –æ—à–∏–±–∫–∏ `API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω`.

## –†–µ—à–µ–Ω–∏–µ: –û–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å watcher

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ **–æ–¥–∏–Ω —Ä–∞–∑** –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /usr/share/nginx/html/apps/TravelFrog/main
chmod +x scripts/install-backend-watcher.sh
sudo ./scripts/install-backend-watcher.sh
```

**–ï—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É** - –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É.

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è systemd timer
2. Timer –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã –Ω–∞–ª–∏—á–∏–µ backend
3. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –µ—Å—Ç—å, –Ω–æ backend –Ω–µ –∑–∞–ø—É—â–µ–Ω - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ
4. Backend –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å—Ä–∞–∑—É (–µ—Å–ª–∏ —Ñ–∞–π–ª—ã —É–∂–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã)

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

- ‚úÖ Backend –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
- ‚úÖ Timer –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Jenkins pipeline

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –°—Ç–∞—Ç—É—Å timer
sudo systemctl status travelfrog-backend-check.timer

# –°—Ç–∞—Ç—É—Å backend
sudo systemctl status travelfrog-api.service

# Health check
curl http://localhost:3000/health
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–ü–æ–ø—Ä–æ—Å–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–±–∞–≤–∏—Ç—å:

```nginx
location /api/ {
    proxy_pass http://localhost:3000;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_connect_timeout 60s;
    proxy_send_timeout 60s;
    proxy_read_timeout 60s;
}
```

**–í—Å—ë!** –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ API –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

